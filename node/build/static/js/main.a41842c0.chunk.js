(this.webpackJsonpmyfirstreact=this.webpackJsonpmyfirstreact||[]).push([[0],[,,,,,function(e,t,a){e.exports=a.p+"static/media/delete-black.56397e00.svg"},function(e,t,a){e.exports=a.p+"static/media/expand_more-black.3f4f518f.svg"},,,function(e,t,a){e.exports=a.p+"static/media/cancel-black.59cdabfc.svg"},function(e,t,a){e.exports=a.p+"static/media/save-black.618caa8c.svg"},,,function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/edit-black.2de08358.svg"},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/print-black.97185797.svg"},function(e,t,a){"use strict";a.r(t),a.d(t,"AppContext",(function(){return O})),a.d(t,"App",(function(){return w}));var n=a(1),c=a(0),r=a.n(c),o=a(11),i=a.n(o),l=(a(18),function(){var e=Object(c.useContext)(O),t=Object(n.a)(e,8),a=(t[0],t[1],t[2],t[3],t[4],t[5]),o=(t[6],t[7],function(e){a(e.target.value)}.bind(void 0));return r.a.createElement("input",{className:"searchBar",type:"text",id:"searchBar",placeholder:"Search",onChange:o})}),s=function(){var e=Object(c.useContext)(O),t=Object(n.a)(e,8);t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7];return r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"search-group"},r.a.createElement("div",{className:"categories-dropdown",onClick:function(){return document.body.classList.toggle("cat-is-open")}},r.a.createElement("div",{className:"categories-selected"},"All"),r.a.createElement("img",{className:"categories-button blue-hover"})),r.a.createElement(l,null)),r.a.createElement("div",{className:"title"},"Groceries"),r.a.createElement("img",{className:"cart-button blue-hover",onClick:function(){return document.body.classList.toggle("cart-is-open")}}))},u=a(12),d=a(4),m=function(){var e=Object(c.useContext)(O),t=Object(n.a)(e,8),a=t[0],o=(t[1],t[2]),i=t[3];t[4],t[5],t[6],t[7];return r.a.createElement("div",{className:"categories",onClick:function(){return document.body.classList.remove("cat-is-open")}},function(){var e=Object(d.a)(a).sort((function(e,t){return e.category>t.category?1:t.category>e.category?-1:0})),t=["All"],c="All";for(var l in e)e[l].category!=c&&"All"!=e[l].category&&(c=e[l].category,t.push(e[l].category));var s,m=[],v=Object(u.a)(t.entries());try{var p=function(){var e=Object(n.a)(s.value,2),t=(e[0],e[1]);t===o?m.push(r.a.createElement("div",{className:"category category-target",key:t,onClick:function(){return i(t)}},t)):m.push(r.a.createElement("div",{className:"category",key:t,onClick:function(){return i(t)}},t))};for(v.s();!(s=v.n()).done;)p()}catch(g){v.e(g)}finally{v.f()}return m}())},v=a(7);var p=function(e){var t=e||window.event;if("paste"!==t.type){var a=t.keyCode||t.which;a=String.fromCharCode(a);/[0-9]/.test(a)||(t.returnValue=!1,t.preventDefault&&t.preventDefault())}else t.returnValue=!1},g=(a(19),"http://localhost:8080"),f=function(e){var t=Object(c.useContext)(O),o=Object(n.a)(t,8),i=o[0],l=(o[1],o[2],o[3]),s=(o[4],o[5],o[6],o[7],Object(c.useContext)(E)),u=Object(n.a)(s,2),m=u[0],f=u[1],h=Object(c.useState)(e.name),b=Object(n.a)(h,2),y=b[0],N=b[1],j=Object(c.useState)(e.category),C=Object(n.a)(j,2),w=C[0],x=C[1],P=Object(c.useState)(null),k=Object(n.a)(P,2),D=k[0],L=k[1],S=Object(c.useState)(!1),T=Object(n.a)(S,2),I=(T[0],T[1],Object(c.useState)(!1)),B=Object(n.a)(I,2),A=B[0],R=B[1],U=Object(c.useState)(!1),M=Object(n.a)(U,2),F=M[0],H=M[1];var J=function(e){N(e.target.value)}.bind(void 0);var G=function(e){x(e.target.value)}.bind(void 0);var K=function(e){V(parseInt(e.target.value,10))}.bind(void 0);function V(t){fetch(g+"/cart/"+e.name,{method:"PUT",body:JSON.stringify({name:e.name,value:t})}).then((function(e){return e.json()})).then((function(t){console.log(t),e.refreshProducts()})).catch((function(e){console.log(e)}))}var _=function(e){e.preventDefault(),e.stopPropagation(),e.target.classList.add("drop-target")}.bind(void 0);var q=function(e){e.preventDefault(),e.stopPropagation(),e.target.classList.remove("drop-target")}.bind(void 0);var z=function(e){e.preventDefault(),e.stopPropagation()}.bind(void 0);var Q=function(t){t.preventDefault(),t.stopPropagation(),t.target.classList.remove("drop-target");var a=t.dataTransfer.getData("text/plain");console.log(a||Object(d.a)(t.dataTransfer.files)),a?(console.log("Please drop a file instead of an URL"),alert("Please drop a file instead of an URL")):function(t){for(var a,n=document.getElementById("canvas-create-"+e.name),c=n.getContext("2d"),r=0;r<t.length;r++){a=t[r];a.type.match(/image.*/)}L(a);var o=document.createElement("img"),i=new FileReader;i.onload=(l=o,function(e){l.onload=function(){var e=94/l.width;l.width<l.height&&(e=94/l.height);var t=Math.floor(l.width*e,10),a=Math.floor(l.height*e,10);c.clearRect(0,0,n.width,n.height),c.drawImage(l,n.width/2-t/2,n.height/2-a/2,t,a)},l.src=e.target.result}),i.readAsDataURL(a);var l}(t.dataTransfer.files)}.bind(void 0);return r.a.createElement("div",{className:"product",id:"product-card-"+e.name},r.a.createElement("div",{className:["product-card",F?" deleting":"",A?" editing":""].join("")},r.a.createElement("div",{className:"product-front-side"},r.a.createElement("div",{className:"product-card-update"},r.a.createElement("img",{className:"product-card-icon red-hover",src:a(5),onClick:function(){return H(!0)},alt:"Delete icon"}),r.a.createElement("img",{className:"product-card-icon blue-hover",src:a(20),onClick:function(){return R(!0)},alt:"Edit icon"}),r.a.createElement("img",{className:"product-card-expand",src:a(6),alt:"Expand icon"})),r.a.createElement("div",{className:"product-card-title"},e.name),r.a.createElement("img",{src:g+"/images/"+e.name+"?"+m[e.name]}),r.a.createElement("div",{className:"product-card-input"},r.a.createElement("img",{className:"product-card-input-minus",onClick:function(){return V(e.value-1)}}),r.a.createElement("div",null,r.a.createElement("input",{type:"text",className:"product-card-input-text",onKeyPress:p.bind(void 0),onChange:K,value:e.value})),r.a.createElement("img",{className:"product-card-input-plus",onClick:function(){return V(e.value+1)}}))),r.a.createElement("div",{className:"product-card-editing"},r.a.createElement("div",{className:"product-card-update"},r.a.createElement("img",{className:"product-card-icon blue-hover",src:a(9),onClick:function(){return R(!1)},alt:"Cancel icon"}),r.a.createElement("img",{className:"product-card-icon blue-hover",src:a(10),onClick:function(){return function(){if(0!==i.filter((function(e){return e.category===w})).length||window.confirm("Are you sure you want to create the new category "+w+"?")){var t=new FormData;t.append("name",y),t.append("category",w),t.append("image",D),console.log(t);var a={method:"PUT",body:t};fetch(g+"/products/"+e.name,a).then((function(t){if(200===t.status){if(void 0===m[e.name]){var a=m;a[e.name]=0,f(a)}else{var n=m;n[e.name]++,f(n)}e.refreshProducts(),R(!1)}else 409===t.status&&alert("A product with that name already exists")})).catch((function(e){console.log(e)}))}}()},alt:"Save icon"}),r.a.createElement("img",{className:"product-card-expand",src:a(6),alt:"Expand icon"})),r.a.createElement("input",Object(v.a)({type:"text",className:"product-card-name",onChange:J,placeholder:e.name},"onChange",J)),r.a.createElement("div",{className:"product-card-background"}),r.a.createElement("img",{className:"transparent-image",src:g+"/images/"+e.name+"?"+m[e.name]}),r.a.createElement("div",{className:"drop-text"},"Drop New Image Here"),r.a.createElement("canvas",{className:"canvas-preview",id:"canvas-create-"+e.name,width:94,height:94}),r.a.createElement("div",{className:"product-add-image",onDragEnter:_,onDragLeave:q,onDragOver:z,onDrop:Q}),r.a.createElement("input",{type:"text",className:"product-card-category",placeholder:e.category,onChange:G})),r.a.createElement("div",{className:"product-back-side"},r.a.createElement("div",{className:"product-card-title"},e.name),r.a.createElement("div",{className:"product-back-delete",onClick:function(){fetch(g+"/products/"+e.name,{method:"DELETE"}).then((function(e){return e.json()})).then((function(t){console.log(t);var a=document.getElementById("product-card-"+e.name);a.style.opacity="0",window.setTimeout((function(){a.style.display="none",e.refreshProducts(),1===i.filter((function(t){return t.category===e.category})).length&&l("All")}),1250)})).catch((function(e){console.log(e)}))}},"Delete"),r.a.createElement("div",{className:"product-back-cancel",onClick:function(){return H(!1)}},"Cancel"))))},h=function(e){var t=Object(c.useContext)(O),o=Object(n.a)(t,8),i=(o[0],o[1],o[2],o[3],o[4],o[5]),l=(o[6],o[7],Object(c.useContext)(E)),s=Object(n.a)(l,2),u=s[0],m=s[1],p=Object(c.useState)(""),f=Object(n.a)(p,2),h=f[0],b=f[1],y=Object(c.useState)(""),N=Object(n.a)(y,2),j=N[0],C=N[1],w=Object(c.useState)(null),x=Object(n.a)(w,2),P=x[0],k=x[1],D=Object(c.useState)(!1),L=Object(n.a)(D,2),S=L[0],T=L[1],I=function(e){b(e.target.value)}.bind(void 0);var B=function(e){C(e.target.value)}.bind(void 0);var A=function(e){e.preventDefault(),e.stopPropagation(),e.target.classList.add("drop-target")}.bind(void 0);var R=function(e){e.preventDefault(),e.stopPropagation(),e.target.classList.remove("drop-target")}.bind(void 0);var U=function(e){e.preventDefault(),e.stopPropagation()}.bind(void 0);var M=function(e){e.preventDefault(),e.stopPropagation(),e.target.classList.remove("drop-target");var t=e.dataTransfer.getData("text/plain");console.log(t||Object(d.a)(e.dataTransfer.files)),t?(console.log("Please drop a file instead of an URL"),alert("Please drop a file instead of an URL")):function(e){for(var t,a=document.getElementById("canvas-create"),n=a.getContext("2d"),c=0;c<e.length;c++){t=e[c];t.type.match(/image.*/)}k(t);var r=document.createElement("img"),o=new FileReader;o.onload=(i=r,function(e){i.onload=function(){var e=94/i.width;i.width<i.height&&(e=94/i.height);var t=Math.floor(i.width*e,10),c=Math.floor(i.height*e,10);n.clearRect(0,0,a.width,a.height),n.drawImage(i,a.width/2-t/2,a.height/2-c/2,t,c)},i.src=e.target.result}),o.readAsDataURL(t);var i}(e.dataTransfer.files)}.bind(void 0);function F(){document.getElementById("searchBar").value="",i("")}return r.a.createElement("div",{className:"product"},r.a.createElement("div",{className:["product-card",S?" creating":"",S?" editing":""].join("")},r.a.createElement("div",{className:"product-create-prompt"},r.a.createElement("div",{className:"product-create-text"},"Product does not exist."),r.a.createElement("div",{className:"product-create-text"},"Do you want to create it?"),r.a.createElement("div",{className:"product-create-button",onClick:function(){return T(!0)}},"Create"),r.a.createElement("div",{className:"product-back-cancel",onClick:function(){return F()}},"Cancel")),r.a.createElement("div",{className:"product-card-creating"},r.a.createElement("div",{className:"product-card-update"},r.a.createElement("img",{className:"product-card-icon blue-hover",src:a(9),onClick:function(){return F()},alt:"Cancel icon"}),r.a.createElement("img",{className:"product-card-icon blue-hover",src:a(10),onClick:function(){return function(){var t=new FormData;t.append("name",h),t.append("category",j),t.append("image",P),fetch(g+"/products",{method:"POST",body:t}).then((function(t){if(200===t.status){if(void 0===u[h]){var a=u;a[h]=0,m(a)}else{var n=u;n[h]++,m(n)}i(h),e.refreshProducts()}else 409===t.status&&alert("A product with that name already exists")})).catch((function(e){})),document.getElementById("searchBar").value=h,i(h)}()},alt:"Save icon"}),r.a.createElement("img",{className:"product-card-expand",src:a(6),alt:"Expand icon"})),r.a.createElement("input",Object(v.a)({type:"text",className:"product-card-name",onChange:I,placeholder:"Name"},"onChange",I)),r.a.createElement("div",{className:"product-card-background"}),r.a.createElement("div",{className:"drop-text"},"Drop New Image Here"),r.a.createElement("canvas",{className:"canvas-preview",id:"canvas-create",width:94,height:94}),r.a.createElement("div",{className:"product-add-image",onDragEnter:A,onDragLeave:R,onDragOver:U,onDrop:M}),r.a.createElement("input",{type:"text",className:"product-card-category",placeholder:"Category",onChange:B}))))},E=Object(c.createContext)(),b=function(e){var t=Object(c.useContext)(O),a=Object(n.a)(t,8),o=a[0],i=(a[1],a[2]),l=(a[3],a[4]),s=(a[5],a[6],a[7],Object(c.useState)([])),u=Object(n.a)(s,2),d=u[0],m=u[1];return r.a.createElement("div",null,function(){var t=[],a=!1;for(var n in o)o[n].name.toLowerCase()!==l.toLowerCase()&&o[n].category.toLowerCase()!==l.toLowerCase()&&""!==l||(a=!0),o[n].category.toLowerCase()!==i.toLowerCase()&&"All"!==i||!o[n].name.toLowerCase().includes(l.toLowerCase())&&!o[n].category.toLowerCase().includes(l.toLowerCase())&&0!==l.length&&!1!==l||t.push(o[n]);return a?r.a.createElement(E.Provider,{value:[d,m]},r.a.createElement("div",{className:"product-container"},t.map((function(t){return r.a.createElement("div",{className:"product-grid-item",key:t.name},r.a.createElement(f,{refreshProducts:e.refreshProducts,name:t.name,category:t.category,value:t.value}))})))):r.a.createElement(E.Provider,{value:[d,m]},r.a.createElement("div",{className:"product-container"},r.a.createElement(h,{refreshProducts:e.refreshProducts}),t.map((function(t){return r.a.createElement("div",{className:"product-grid-item",key:t.name},r.a.createElement(f,{refreshProducts:e.refreshProducts,name:t.name,category:t.category,value:t.value}))}))))}())};a(21);function y(e){var t=e;return t.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})),t.sort((function(e,t){return e.category>t.category?1:t.category>e.category?-1:0})),t}var N=function(e){var t=Object(c.useContext)(O),o=Object(n.a)(t,8),i=o[0];o[1],o[2],o[3],o[4],o[5],o[6],o[7];return r.a.createElement("div",{className:"cart-navbar"},r.a.createElement("img",{className:"cart-navbar-print blue-hover",src:a(22),onClick:function(){return function(){var e=y(i),t=document.createElement("div"),a="";for(var n in e){var c=document.createElement("div");e[n].value>0&&(a!==e[n].category&&(""!==a&&c.appendChild(document.createElement("br")),c.appendChild(document.createTextNode(e[n].category)),c.appendChild(document.createElement("br")),a=e[n].category),c.appendChild(document.createTextNode(e[n].name+" "+e[n].value)),t.appendChild(c))}document.getElementById("root").style.display="none",document.getElementById("list").innerHTML="",document.getElementById("list").append(t),window.print(),document.getElementById("list").innerHTML="",document.getElementById("root").style.display="block"}()},alt:"Print icon"}),r.a.createElement("div",{className:"cart-title"},"Shopping List"),r.a.createElement("img",{className:"cart-navbar-delete red-hover",src:a(5),onClick:function(){fetch(g+"/cart",{method:"DELETE"}).then((function(e){return e.json()})).then((function(t){console.log(t),e.refreshProducts()})).catch((function(e){console.log(e)}))},alt:"Delete icon"}))},j=function(e){var t=Object(c.useContext)(O),o=Object(n.a)(t,8),i=(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],function(t){var a=parseInt(t.target.value,10);fetch(g+"/cart/"+e.name,{method:"PUT",body:JSON.stringify({name:e.name,value:a})}).then((function(e){return e.json()})).then((function(t){console.log(t),e.refreshProducts()})).catch((function(e){console.log(e)}))}.bind(void 0));return r.a.createElement("div",{className:"cart-product"},r.a.createElement("p",{className:"cart-product-name"},e.name),r.a.createElement("input",{className:"cart-product-input",type:"text",onKeyPress:p.bind(void 0),onChange:i,value:e.value}),r.a.createElement("img",{className:"cart-product-delete red-hover",src:a(5),onClick:function(){fetch(g+"/cart/"+e.name,{method:"DELETE"}).then((function(e){return e.json()})).then((function(t){console.log(t),e.refreshProducts()})).catch((function(e){console.log(e)}))},alt:"Delete icon"}))},C=function(e){var t=Object(c.useContext)(O),a=Object(n.a)(t,8),o=a[0];a[1],a[2],a[3],a[4],a[5],a[6],a[7];return r.a.createElement("div",{className:"cart"},r.a.createElement(N,{refreshProducts:e.refreshProducts}),function(){var t=[],a=y(o),n="";for(var c in a)a[c].value>0&&(n!==a[c].category&&t.push(r.a.createElement("div",{key:"Category"+a[c].category,className:"cart-category-title"},a[c].category)),t.push(r.a.createElement("div",{key:"Product"+a[c].name},r.a.createElement(j,{refreshProducts:e.refreshProducts,name:a[c].name,category:a[c].category,value:a[c].value}))),n=a[c].category);return t}())},O=Object(c.createContext)(),w=function(){var e=Object(c.useState)([]),t=Object(n.a)(e,2),a=t[0],o=t[1];0===a.length&&w();var i=Object(c.useState)("All"),l=Object(n.a)(i,2),u=l[0],d=l[1],v=Object(c.useState)(!1),p=Object(n.a)(v,2),f=p[0],h=p[1],E=Object(c.useState)(""),y=Object(n.a)(E,2),N=y[0],j=y[1];function w(){var e=[];fetch(g+"/products",{method:"GET"}).then((function(e){return e.json()})).then((function(t){fetch(g+"/cart",{method:"GET"}).then((function(e){return e.json()})).then((function(a){var n=function(n){e.push({name:t[n].name,category:t[n].category,value:a.find((function(e){return e.name===t[n].name}))?a.find((function(e){return e.name===t[n].name})).value:0})};for(var c in t)n(c);e.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})),o(e)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}return r.a.createElement("div",{className:"page"},r.a.createElement(O.Provider,{value:[a,o,u,d,N,j,f,h]},r.a.createElement(s,null),r.a.createElement(b,{refreshProducts:w}),r.a.createElement(C,{refreshProducts:w}),r.a.createElement(m,null)))};i.a.render(r.a.createElement(w,null),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.a41842c0.chunk.js.map